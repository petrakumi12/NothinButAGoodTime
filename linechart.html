<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Line Chart</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
<script>
    console.log(d3);

    let margin = {top: 20, right: 20, bottom: 20, left: 20},
        width = 900 - margin.left - margin.right,
        height = 600 - margin.top - margin.bottom;

    let svg = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
        .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    let data = [];
    let min = 100, max = -100;
    let tempData = [0];
    // for (let j = 0; j < 2; j++) {
    //     for (let i = 1; i <= 50000; i++) {
    //         let diff = Math.random() - 0.5;
    //         tempData[i] = tempData[i - 1] + diff;
    //
    //         if (tempData[i] > max) {
    //             max = tempData[i]
    //         }
    //         else if (tempData[i] < min) {
    //             min = tempData[i]
    //         }
    //     }
    //     data.push(tempData)
    // }

    data.push(0)
    for (let i = 1; i <= 50000; i++) {
        let diff = Math.random() - 0.5;
        data[i] = data[i - 1] + diff;

        if (data[i] > max) {
            max = data[i]
        }
        else if (data[i] < min) {
            min = data[i]
        }
    }


    console.log("data", data)
    console.log(min, max)

    var x = d3.scaleLinear()
        .domain([0, data.length])
        .range([0, width]);

    let y = d3.scaleLinear()
        .domain([min, max])
        .range([height - margin.top - margin.bottom, 0]);

    console.log(y.domain(), y(-20), y(0), y(20));

    let line = d3.line()
        .x((d, i) => {return x(i)})
        .y((d) => {return y(d)});

    svg.append("g")
        .attr("id", "xAxis")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    svg.append("g")
        .attr("id", "yAxis")
        .call(d3.axisLeft(y));

    console.log("whyyyy", data)
    svg.append("g")
        .data([data])
        .enter()
        .append("path")
        // .datum(d => {return d})
        .attr("d", line)
        .style("stroke", d => {console.log("yeee", d, "yooo");return "steelblue"})
        .style("stroke-width", 2)
        .style("fill", "none")
        .style("opacity", 1)
    console.log("mmmmm")

    // console.log(data[0])
    // svg.append("path")
    //     .datum(data[0])
    //     .attr("d", line)
    //     .style("stroke", d => {console.log("yeee");return "steelblue"})
    //     .style("stroke-width", 2)
    //     .style("fill", "none")
    //     .style("opacity", 1)

</script>
</body>
</html>